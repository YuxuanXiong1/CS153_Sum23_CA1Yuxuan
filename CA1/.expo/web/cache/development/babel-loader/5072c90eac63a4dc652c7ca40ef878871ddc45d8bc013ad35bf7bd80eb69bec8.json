{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Meal = function Meal(_ref) {\n  var name = _ref.name,\n    image = _ref.image;\n  return _jsxs(View, {\n    style: {\n      height: 150,\n      backgroundColor: 'bisque',\n      justifyContent: 'space-around',\n      marginVertical: 8,\n      marginHorizontal: 16,\n      borderWidth: 5,\n      flexDirection: 'row'\n    },\n    children: [_jsx(Text, {\n      style: {\n        fontSize: 26,\n        padding: 20\n      },\n      children: name\n    }), _jsx(Image, {\n      style: {\n        width: 100,\n        height: 100,\n        alignSelf: 'center'\n      },\n      source: {\n        uri: image\n      }\n    })]\n  });\n};\nvar App = function App() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(\"chicken_breast\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    ingredient = _useState6[0],\n    setIngredient = _useState6[1];\n  var getMeals = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var url = \"https://www.themealdb.com/api/json/v1/1/filter.php?i=\" + ingredient;\n        var response = yield fetch(url);\n        var json = yield response.json();\n        if (json.meals) {\n          setData(json.meals);\n        } else {\n          setData([]);\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function getMeals() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    getMeals();\n  }, [ingredient]);\n  return _jsxs(View, {\n    style: {\n      padding: 30\n    },\n    children: [_jsx(Text, {\n      style: {\n        fontSize: 60\n      },\n      children: \"Meal Finder\"\n    }), _jsxs(Text, {\n      style: {\n        fontSize: 26\n      },\n      children: [\"Main Ingredient: \", ingredient, \" \"]\n    }), _jsx(Text, {\n      style: {\n        fontSize: 26\n      },\n      children: \"Enter the new Ingredient:\"\n    }), _jsx(TextInput, {\n      style: {\n        height: 40,\n        borderWidth: 1\n      },\n      onChangeText: setIngredient\n    }), _jsx(FlatList, {\n      data: data.slice(0, 20),\n      keyExtractor: function keyExtractor(_ref3, index) {\n        var idMeal = _ref3.idMeal;\n        return idMeal;\n      },\n      renderItem: function renderItem(_ref4) {\n        var item = _ref4.item;\n        return _jsx(Meal, {\n          name: item.strMeal,\n          image: item.strMealThumb\n        });\n      }\n    })]\n  });\n};\nexport default Question2;","map":{"version":3,"names":["React","useState","useEffect","Text","FlatList","View","Image","TextInput","jsx","_jsx","jsxs","_jsxs","Meal","_ref","name","image","style","height","backgroundColor","justifyContent","marginVertical","marginHorizontal","borderWidth","flexDirection","children","fontSize","padding","width","alignSelf","source","uri","App","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","loading","setLoading","_useState5","_useState6","ingredient","setIngredient","getMeals","_ref2","_asyncToGenerator","url","response","fetch","json","meals","error","console","apply","arguments","onChangeText","slice","keyExtractor","_ref3","index","idMeal","renderItem","_ref4","item","strMeal","strMealThumb","Question2"],"sources":["D:/Brandeis/COSI 103A/CS153_Sum23_CA1Yuxuan/CA1/components/APIdemo.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Text, FlatList, View, Image, TextInput } from 'react-native';\r\n\r\nconst Meal = ({ name, image }) => (\r\n    <View style={{height:150, backgroundColor:'bisque', justifyContent:'space-around', marginVertical: 8, marginHorizontal: 16, borderWidth: 5, flexDirection:'row'}}>\r\n        <Text style={{fontSize:26, padding:20}}>{name}</Text>\r\n        <Image style={{width: 100, height: 100, alignSelf:'center'}} source={{uri: image}}/>\r\n    </View>\r\n);\r\n\r\nconst App = () => {\r\n    const [data,setData] = useState([]);\r\n    const [loading,setLoading] = useState(true);\r\n    const [ingredient, setIngredient] = useState(\"chicken_breast\");\r\n\r\n    const getMeals = async () => {\r\n        try {\r\n          const url = \"https://www.themealdb.com/api/json/v1/1/filter.php?i=\" + ingredient;\r\n          const response = await fetch(url);\r\n          const json = await response.json();\r\n          if (json.meals) {\r\n            setData(json.meals);\r\n          } else {\r\n            setData([]);\r\n          }\r\n        } catch (error) {\r\n          console.error(error);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n\r\n    useEffect(() => {getMeals()}, [ingredient])\r\n\r\n    return(\r\n        <View style={{padding:30}}>\r\n            <Text style={{fontSize: 60}}>Meal Finder</Text>\r\n            <Text style={{fontSize: 26}}>Main Ingredient: {ingredient} </Text>\r\n            <Text style={{fontSize: 26}}>Enter the new Ingredient:</Text>\r\n            <TextInput\r\n                style={{height: 40, borderWidth: 1}}\r\n                onChangeText={setIngredient}\r\n            />\r\n            <FlatList\r\n                data={data.slice(0,20)}\r\n                keyExtractor={({ idMeal }, index) => idMeal}\r\n                renderItem={({ item }) => (\r\n                    <Meal\r\n                        name={item.strMeal}\r\n                        image={item.strMealThumb}\r\n                    />\r\n                )}\r\n            />\r\n        </View>\r\n    );\r\n}\r\n\r\nexport default Question2;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}