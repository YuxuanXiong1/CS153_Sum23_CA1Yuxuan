{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar APIdemo = function APIdemo() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    forecast = _useState4[0],\n    setForecast = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    latlonText = _useState8[0],\n    setLatLonText = _useState8[1];\n  var _useState9 = useState(\"42.3,-71.1\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    latlon = _useState10[0],\n    setLatLon = _useState10[1];\n  var getJSON = function () {\n    var _ref = _asyncToGenerator(function* (url) {\n      try {\n        console.log(\"In getJSON, url = \" + url);\n        var response = yield fetch(url);\n        var json = yield response.json();\n        console.log(\"In getJSON, got this: \");\n        console.dir(json);\n        return json;\n      } catch (error) {\n        console.error(error);\n      }\n    });\n    return function getJSON(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var getWeather = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var getData = function () {\n        var _ref3 = _asyncToGenerator(function* () {\n          try {\n            var d = yield getJSON(\"https://api.weather.gov/points/\" + latlon);\n            setData(d);\n            var f = yield getJSON(d.properties.forecast);\n            console.dir(f);\n            setForecast(f.properties.periods);\n          } catch (error) {\n            console.error(error);\n          } finally {\n            setLoading(false);\n          }\n        });\n        return function getData() {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n      yield getData();\n    });\n    return function getWeather() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    getWeather();\n  }, [latlon]);\n  return _jsxs(View, {\n    style: {\n      flex: 1,\n      margin: 50,\n      backgroundColor: 'lightgreen'\n    },\n    children: [_jsx(Text, {\n      style: {\n        fontSize: 60,\n        textAlign: 'center'\n      },\n      children: \"Weather Demo\"\n    }), _jsx(View, {\n      style: {\n        margin: 100,\n        padding: 10\n      },\n      children: loading ? _jsx(Text, {\n        children: \"Loading...\"\n      }) : _jsxs(_Fragment, {\n        children: [_jsx(Text, {\n          children: \"Enter your lattitude and longitude, separated by a comma\"\n        }), _jsx(TextInput, {\n          placeholder: \"42.3,-71.1\",\n          onChangeText: function onChangeText(text) {\n            return setLatLonText(text);\n          }\n        }), _jsx(Button, {\n          onPress: function onPress() {\n            return setLatLon(latlonText);\n          },\n          title: \"Get Weather\"\n        }), _jsx(Text, {\n          style: {\n            fontSize: 60,\n            textAlign: 'center'\n          },\n          children: forecast[0].name\n        }), _jsx(Text, {\n          style: {\n            fontSize: 40,\n            padding: 50,\n            backgroundColor: 'yellow'\n          },\n          children: forecast[0].detailedForecast\n        }), false ? _jsxs(_Fragment, {\n          children: [_jsx(Text, {\n            children: latlonText\n          }), _jsx(Text, {\n            children: latlon\n          }), _jsx(Text, {\n            children: JSON.stringify(data)\n          }), _jsx(Text, {\n            style: {\n              backgroundColor: 'yellow'\n            },\n            children: JSON.stringify(forecast[0])\n          })]\n        }) : \".............\"]\n      })\n    })]\n  });\n};\nexport default APIdemo;","map":{"version":3,"names":["React","useState","useEffect","Text","Button","TextInput","View","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","APIdemo","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","forecast","setForecast","_useState5","_useState6","loading","setLoading","_useState7","_useState8","latlonText","setLatLonText","_useState9","_useState10","latlon","setLatLon","getJSON","_ref","_asyncToGenerator","url","console","log","response","fetch","json","dir","error","_x","apply","arguments","getWeather","_ref2","getData","_ref3","d","f","properties","periods","style","flex","margin","backgroundColor","children","fontSize","textAlign","padding","placeholder","onChangeText","text","onPress","title","name","detailedForecast","JSON","stringify"],"sources":["C:/Users/79181/OneDrive/Documents/GitHub/CS153_Sum23_CA1Yuxuan/CA1/components/Weather.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Text, Button, TextInput, View } from 'react-native';\r\n\r\n\r\nconst APIdemo = () => {\r\n    const [data,setData] = useState([]);\r\n    const [forecast,setForecast] = useState([]);\r\n    const [loading,setLoading] = useState(true);\r\n    const [latlonText,setLatLonText] = useState(\"\");\r\n    const [latlon,setLatLon] = useState(\"42.3,-71.1\");\r\n    //const [latlon,setLatLon] = useState(\"35.1,-106.6\");\r\n\r\n    const getJSON = async (url) => {\r\n        try {\r\n            console.log(\"In getJSON, url = \"+url);\r\n            const response = await fetch(url);\r\n            const json = await response.json();\r\n            console.log(\"In getJSON, got this: \")\r\n            console.dir(json);\r\n            return(json);\r\n        } catch (error) {\r\n            console.error(error);\r\n        } \r\n    };\r\n\r\n\r\n    const getWeather = async () => {\r\n        const getData = async () => {\r\n            try {\r\n\r\n\r\n                const d = await getJSON(\"https://api.weather.gov/points/\"+latlon)\r\n                setData(d);\r\n\r\n                const f = await getJSON(d.properties.forecast)  \r\n                console.dir(f)  \r\n                setForecast(f.properties.periods)\r\n\r\n            } catch (error) {\r\n            console.error(error);\r\n            } finally {\r\n                setLoading(false);\r\n            }   \r\n        }\r\n        await getData();\r\n    \r\n    };\r\n\r\n     \r\n    useEffect(() => {getWeather()}, [latlon])\r\n\r\n    return(\r\n        <View style={{flex:1,margin:50,backgroundColor:'lightgreen'}}>\r\n            <Text style={{fontSize:60,textAlign:'center'}}>Weather Demo</Text>\r\n            <View style={{margin:100,padding:10}}>\r\n                {loading ? \r\n                    <Text>Loading...</Text> \r\n                    :\r\n                    <>\r\n                    <Text>Enter your lattitude and longitude, separated by a comma</Text>\r\n                    <TextInput \r\n                        placeholder=\"42.3,-71.1\"\r\n                        onChangeText={text => setLatLonText(text)}\r\n                        />\r\n                    <Button \r\n                        onPress={() => setLatLon(latlonText)} \r\n                        title=\"Get Weather\" />  \r\n                    <Text style={{fontSize:60,textAlign:'center'}}>{forecast[0].name}</Text>\r\n                    <Text \r\n                        style={{fontSize:40, padding:50, backgroundColor:'yellow'}}>\r\n                        \r\n                        {forecast[0].detailedForecast}</Text>\r\n                    {false? \r\n                    <>\r\n                     <Text>{latlonText}</Text>\r\n                     <Text>{latlon}</Text>\r\n                     <Text>{JSON.stringify(data)}</Text>\r\n                     <Text style={{backgroundColor:'yellow'}}>\r\n                        {JSON.stringify(forecast[0])}\r\n                    </Text>\r\n                    </>:\r\n                    \".............\"}\r\n                     \r\n                    </>\r\n                }\r\n            </View>\r\n            \r\n        </View>\r\n    );\r\n}\r\n\r\nexport default APIdemo;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}